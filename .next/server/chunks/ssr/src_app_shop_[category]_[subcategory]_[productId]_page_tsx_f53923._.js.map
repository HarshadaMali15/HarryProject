{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://D%3A/HarshaProject/HarryProject/src/app/shop/%5Bcategory%5D/%5Bsubcategory%5D/%5BproductId%5D/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { useParams } from \"next/navigation\";\r\nimport Image from \"next/image\";\r\nimport Link from \"next/link\";\r\n\r\ninterface Product {\r\n  _id: string;\r\n  name: string;\r\n  description: string;\r\n  price: number;\r\n  discountPrice?: number;\r\n  stock: number;\r\n  unit: string;\r\n  deliveryTime: string;\r\n  category: string;\r\n  subcategory: string;\r\n  returnPolicy: string;\r\n  paymentMode: string;\r\n  sellerName: string;\r\n  contact: string;\r\n  location: string;\r\n  images: string[];\r\n}\r\n\r\nexport default function ProductDetailPage() {\r\n  const params = useParams();\r\n  const productId = params.productId as string;\r\n  const [product, setProduct] = useState<Product | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n  const [selectedImage, setSelectedImage] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    async function fetchProduct() {\r\n      try {\r\n        const res = await fetch(\r\n          `http://localhost:5000/api/products/${productId}`\r\n        );\r\n        if (!res.ok) {\r\n          throw new Error(\"Failed to fetch product details\");\r\n        }\r\n        const data = await res.json();\r\n        setProduct(data.product);\r\n        setSelectedImage(data.product.images[0]); \r\n      } catch (err: any) {\r\n        setError(err.message || \"Something went wrong\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n    if (productId) {\r\n      fetchProduct();\r\n    }\r\n  }, [productId]);\r\n\r\n  if (loading)\r\n    return (\r\n      <div className=\"flex justify-center items-center h-screen\">\r\n        <div className=\"w-12 h-12 border-4 border-gray-300 border-t-blue-500 rounded-full animate-spin\"></div>\r\n      </div>\r\n    );\r\n  if (error) return <p className=\"text-center text-red-500\">Error: {error}</p>;\r\n  if (!product) return <p className=\"text-center\">No product found.</p>;\r\n\r\n  return (\r\n    <div className=\"container mx-auto p-4\">\r\n      <Link href={`/shop/${product.category}/${product.subcategory}`} className=\"text-blue-600\">\r\n        ‚Üê Back to Products\r\n      </Link>\r\n\r\n      <div className=\"flex flex-col md:flex-row mt-4\">\r\n        {/* Left Column - Thumbnails */}\r\n        <div className=\"hidden md:flex flex-col space-y-2 mr-4\">\r\n          {product.images.map((img, index) => (\r\n            <Image\r\n              key={index}\r\n              src={`http://localhost:5000${img}`}\r\n              alt={`Thumbnail ${index}`}\r\n              width={80}\r\n              height={80}\r\n              className={`cursor-pointer rounded-md border-2 ${\r\n                selectedImage === `http://localhost:5000${img}`\r\n                  ? \"border-blue-500\"\r\n                  : \"border-transparent\"\r\n              }`}\r\n              onClick={() => setSelectedImage(`http://localhost:5000${img}`)}\r\n            />\r\n          ))}\r\n        </div>\r\n\r\n        {/* Right Side - Main Image (Default First Image) */}\r\n        <div className=\"w-full md:w-1/2 relative h-96\">\r\n          <Image\r\n            src={selectedImage || \"/placeholder.svg\"}\r\n            alt={product.name}\r\n            layout=\"fill\"\r\n            objectFit=\"cover\"\r\n            className=\"rounded-md transition-opacity\"\r\n          />\r\n        </div>\r\n\r\n        {/* Product Details */}\r\n        <div className=\"w-full md:w-1/2 md:pl-8 mt-4 md:mt-0\">\r\n          <h1 className=\"text-3xl font-bold\">{product.name}</h1>\r\n          <p className=\"mt-2 text-lg\">{product.description}</p>\r\n          <div className=\"mt-4 text-2xl font-semibold\">\r\n            ${product.price.toFixed(2)}\r\n            {product.discountPrice && (\r\n              <span className=\"ml-2 text-xl line-through text-gray-500\">\r\n                ${product.discountPrice.toFixed(2)}\r\n              </span>\r\n            )}\r\n          </div>\r\n          <p className=\"mt-2\">\r\n            <strong>Stock:</strong> {product.stock} {product.unit}\r\n          </p>\r\n          <p className=\"mt-2\">\r\n            <strong>Delivery Time:</strong> {product.deliveryTime}\r\n          </p>\r\n          <p className=\"mt-2\">\r\n            <strong>Return Policy:</strong> {product.returnPolicy}\r\n          </p>\r\n          <p className=\"mt-2\">\r\n            <strong>Payment Mode:</strong> {product.paymentMode}\r\n          </p>\r\n          <p className=\"mt-2\">\r\n            <strong>Seller:</strong> {product.sellerName}\r\n          </p>\r\n          <p className=\"mt-2\">\r\n            <strong>Contact:</strong> {product.contact}\r\n          </p>\r\n          <p className=\"mt-2\">\r\n            <strong>Location:</strong> {product.location}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 323, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}